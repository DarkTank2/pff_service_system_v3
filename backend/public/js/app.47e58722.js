(function(e){function t(t){for(var n,o,c=t[0],s=t[1],l=t[2],u=0,m=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},i=[];function o(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"75c9a9fd"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=o(e);var l=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(u);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,r[1](l)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"02f3":function(e,t,r){"use strict";r.r(t);var n=r("d4ec"),a=r("bee2"),i=r("99de"),o=r("7e84"),c=r("262e"),s=r("ade3"),l=r("2e40"),u=function(e){function t(e,r){return Object(n["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).call(this,e,r))}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"instanceDefaults",value:function(){return{itemId:0,extensionId:0}}}]),t}(l["a"]);Object(s["a"])(u,"modelName","ItemsCanHaveExtensions");var d="/backend/items-can-have-extensions",m=Object(l["d"])({Model:u,service:l["c"].service(d),servicePath:d});l["c"].service(d).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}}),t["default"]=m},1:function(e,t){},"1c28":function(e,t,r){"use strict";r.r(t);var n=r("d4ec"),a=r("bee2"),i=r("99de"),o=r("7e84"),c=r("262e"),s=r("ade3"),l=r("2e40"),u=function(e){function t(e,r){return Object(n["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).call(this,e,r))}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"instanceDefaults",value:function(){return{name:"New table"}}}]),t}(l["a"]);Object(s["a"])(u,"modelName","Tables");var d="/backend/tables",m=Object(l["d"])({Model:u,service:l["c"].service(d),servicePath:d});l["c"].service(d).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}}),t["default"]=m},"1dcb":function(e,t,r){"use strict";r.r(t);var n=r("d4ec"),a=r("bee2"),i=r("99de"),o=r("7e84"),c=r("262e"),s=r("ade3"),l=r("2e40"),u=function(e){function t(e,r){return Object(n["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).call(this,e,r))}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"instanceDefaults",value:function(){return{name:"New Item",typeId:0,categoryId:0,price:0,extensions:[]}}}]),t}(l["a"]);Object(s["a"])(u,"modelName","Items");var d="/backend/items",m=Object(l["d"])({Model:u,service:l["c"].service(d),servicePath:d});l["c"].service(d).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}}),t["default"]=m},"1ecb":function(e,t,r){"use strict";r.r(t);var n=r("d4ec"),a=r("bee2"),i=r("99de"),o=r("7e84"),c=r("262e"),s=r("ade3"),l=r("2e40"),u=function(e){function t(e,r){return Object(n["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).call(this,e,r))}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"instanceDefaults",value:function(){return{name:"New type"}}}]),t}(l["a"]);Object(s["a"])(u,"modelName","Types");var d="/backend/types",m=Object(l["d"])({Model:u,service:l["c"].service(d),servicePath:d});l["c"].service(d).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}}),t["default"]=m},"2e40":function(e,t,r){"use strict";r.d(t,"d",(function(){return f})),r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return b}));var n=r("b462"),a=r.n(n),i=r("8055"),o=r.n(i),c=r("4059"),s=r.n(c),l=r("9e62"),u=o()("http://"+window.location.hostname+":3030",{transports:["websocket"]}),d=a()().configure(s()(u));t["c"]=d;var m=Object(l["b"])(d,{idField:"id"}),f=m.makeServicePlugin,v=m.BaseModel,b=(m.models,m.FeathersVuex)},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:""}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}},[r("v-icon",[e._v("menu")])],1),r("span",{staticClass:"font-weight-light"},[e._v(e._s(e.title))]),r("v-spacer"),e.$route.path.includes("waiter")?r("FinalizeButton"):e._e(),r("v-switch",{attrs:{label:"Darkmode","hide-details":""},on:{change:function(t){e.$vuetify.theme.dark=e.darkMode}},model:{value:e.darkMode,callback:function(t){e.darkMode=t},expression:"darkMode"}})],1),r("v-content",[r("router-view")],1),r("Sidebar",{attrs:{drawer:e.drawer},on:{"update-drawer":e.updateDrawer}}),r("BottomNav")],1)},i=[],o=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawerModel,callback:function(t){e.drawerModel=t},expression:"drawerModel"}},[r("v-list",[r("v-list-item",[r("v-list-item-title",[r("span",[e._v("Service")]),r("span",{staticClass:"font-weight-light"},[e._v("Tool")])])],1),r("v-list-item",[r("v-list-item-content",[r("v-text-field",{attrs:{label:"Dein Name",clearable:""},on:{change:e.handleName},model:{value:e.nameModel,callback:function(t){e.nameModel=t},expression:"nameModel"}})],1)],1),r("v-list-item",[r("v-list-item-content",[r("v-select",{attrs:{items:e.tables,"return-object":"","item-text":"name",label:"Tisch-Nummer:"},on:{change:e.setTable}})],1)],1),r("v-list-item",[r("v-list-item-content",[r("v-btn",{attrs:{to:{name:"home"},block:""}},[r("span",[e._v("Home")]),r("v-icon",[e._v("home")])],1)],1)],1),e.additionalButton?r("v-list-item",[r("v-list-item-content",[r("v-btn",{attrs:{block:"",to:e.additionalButton.to}},[r("span",[e._v(e._s(e.additionalButton.text))])])],1)],1):e._e(),r("v-list-item",[r("v-list-item-content",[r("v-btn",{attrs:{block:""},on:{click:e.refresh}},[r("v-icon",[e._v("refresh")]),r("span",[e._v("Refresh")])],1)],1)],1)],1)],1)},s=[],l=(r("caad"),r("fb6a"),r("2532"),r("2f62"));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={name:"Sidebar",props:["drawer"],components:{},data:function(){return{randomNames:["Starshine","Pumpkinface","Boo Hoo","Tarzan","Toto"],drawerModel:!1,nameModel:""}},created:function(){},mounted:function(){this.fetchName(),this.fetchTables(),this.drawerModel=this.drawer,this.nameModel=this.getName},methods:d({},Object(l["d"])("base",["setName","fetchName","setTableId"]),{},Object(l["b"])("tables",{fetchTables:"find"}),{},Object(l["b"])("items",{fetchitems:"find"}),{},Object(l["b"])("extensions",{fetchextensions:"find"}),{},Object(l["b"])("types",{fetchtypes:"find"}),{},Object(l["b"])("categories",{fetchcategories:"find"}),{},Object(l["b"])("ordered-items",{fetchordereditems:"find"}),{},Object(l["b"])("items-can-have-extensions",{fetchitemscanhaveextensions:"find"}),{handleName:function(e){null===e&&(e=""),e.length>20&&(e=e.slice(0,20)),this.setName(e),this.nameModel=this.getName},setTable:function(e){this.setTableId(e.id)},refresh:function(){this.fetchTables(),this.fetchitemscanhaveextensions(),this.fetchordereditems(),this.fetchcategories(),this.fetchtypes(),this.fetchextensions(),this.fetchitems()}}),computed:d({},Object(l["c"])("base",["getName"]),{},Object(l["c"])("tables",{tables:"list"}),{path:function(){return this.$route.path},additionalButton:function(){var e={to:{},text:""};return this.path.includes("waiter")?(e.to={name:"servant"},e.text="Zum Servieren"):this.path.includes("servant")?(e.to={name:"waiter"},e.text="Zum Kellnern"):e=void 0,e}}),watch:{drawer:function(e){this.drawerModel=e},drawerModel:function(e){this.$emit("update-drawer",e)}}},f=m,v=r("2877"),b=r("6544"),h=r.n(b),p=r("8336"),O=r("132d"),y=r("8860"),g=r("da13"),j=r("5d23"),x=r("f774"),w=r("b974"),k=r("8654"),I=Object(v["a"])(f,c,s,!1,null,null,null),_=I.exports;h()(I,{VBtn:p["a"],VIcon:O["a"],VList:y["a"],VListItem:g["a"],VListItemContent:j["a"],VListItemTitle:j["c"],VNavigationDrawer:x["a"],VSelect:w["a"],VTextField:k["a"]});var C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return"ServantCash"===e.$route.name?r("v-bottom-navigation",{attrs:{app:""}},[r("v-btn",{attrs:{disabled:""}},[e._v(e._s("Summe: "+e.sum))]),r("v-btn",{on:{click:e.handleCash}},[r("span",[e._v("Kassieren")])]),r("v-btn",{on:{click:e.clearOrderedItems}},[r("span",[e._v("Zur체cksetzten")])]),r("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackText)+" "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},[e._v(" Close ")])],1)],1):e._e()},V=[];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T={name:"BottomNavigation",props:[],components:{},data:function(){return{snackbar:!1,snackText:"Erfolgreich Kassiert!"}},created:function(){},mounted:function(){},methods:S({},Object(l["b"])("servant",{cashSelection:"updateSelection"}),{},Object(l["d"])("servant",["clearOrderedItems","setSum"]),{handleCash:function(){var e=this;this.cashSelection("cashed").then((function(){e.setSum(),e.snackbar=!0,setTimeout((function(){e.snackbar=!1}),2e3)}))}}),watch:{},computed:S({},Object(l["e"])("servant",["sum"]))},D=T,E=r("b81c"),$=r("2db4"),M=Object(v["a"])(D,C,V,!1,null,null,null),F=M.exports;h()(M,{VBottomNavigation:E["a"],VBtn:p["a"],VSnackbar:$["a"]});var N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{scrollable:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({},n),[r("v-icon",[e._v("send")]),e._v(" Send ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[e._v("Bestellung")]),r("v-card-text",[r("v-list",{attrs:{"two-line":""}},e._l(e.order,(function(t,n){return r("v-list-item",{key:"listItem/"+n},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(e.name(t)))]),r("v-list-item-subtitle",[e._v(e._s(t.extensions.map((function(e){return e.name})).join(", ")))])],1),r("v-list-item-action",[e._v(e._s(t.quantity))])],1)})),1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{on:{click:e.finalizeOrder}},[r("v-icon",[e._v("send")]),e._v("Send")],1)],1)],1)],1)},q=[];r("b0c0");function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A={name:"FinalizeButton",props:[],components:{},data:function(){return{dialog:!1}},created:function(){},mounted:function(){},methods:L({},Object(l["b"])("waiter",{sendOrder:"finalizeOrder"}),{finalizeOrder:function(){var e=this;this.sendOrder().then((function(){e.dialog=!1}))},name:function(e){var t=e.itemId;return this.getItem(t).name}}),watch:{},computed:L({},Object(l["c"])("waiter",["order"]),{},Object(l["c"])("items",{getItem:"get"}))},R=A,z=r("b0af"),K=r("99d9"),H=r("169a"),J=r("1800"),W=r("2fa4"),U=Object(v["a"])(R,N,q,!1,null,null,null),G=U.exports;function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}h()(U,{VBtn:p["a"],VCard:z["a"],VCardActions:K["a"],VCardText:K["b"],VCardTitle:K["c"],VDialog:H["a"],VIcon:O["a"],VList:y["a"],VListItem:g["a"],VListItemAction:J["a"],VListItemContent:j["a"],VListItemSubtitle:j["b"],VListItemTitle:j["c"],VSpacer:W["a"]});var X={name:"App",components:{Sidebar:_,FinalizeButton:G,BottomNav:F},data:function(){return{darkMode:!0,drawer:!1}},created:function(){this.$vuetify.theme.dark=this.darkMode},computed:Q({},Object(l["e"])("base",["title"])),methods:{updateDrawer:function(e){this.drawer=e}}},Y=X,ee=r("7496"),te=r("40dc"),re=r("5bc1"),ne=r("a75b"),ae=r("b73d"),ie=Object(v["a"])(Y,a,i,!1,null,null,null),oe=ie.exports;h()(ie,{VApp:ee["a"],VAppBar:te["a"],VAppBarNavIcon:re["a"],VContent:ne["a"],VIcon:O["a"],VSpacer:W["a"],VSwitch:ae["a"]});r("d3b7");var ce=r("8c4f"),se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[e._v("Service-System")]),r("v-card-text",[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-btn",{attrs:{block:"",to:{name:"waiter"}}},[e._v("Kellnern")])],1),r("v-col",{attrs:{cols:"12"}},[r("v-btn",{attrs:{block:"",to:{name:"servant"}}},[e._v("Servieren")])],1)],1)],1)],1)],1)},le=[],ue={name:"home"},de=ue,me=r("62ad"),fe=r("a523"),ve=r("0fd9"),be=Object(v["a"])(de,se,le,!1,null,null,null),he=be.exports;h()(be,{VBtn:p["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:me["a"],VContainer:fe["a"],VRow:ve["a"]});var pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",[r("v-breadcrumbs",{attrs:{divider:">",items:e.breadcrumbs},scopedSlots:e._u([{key:"item",fn:function(t){return[r("v-breadcrumbs-item",{attrs:{to:t.item.to,disabled:t.item.disabled,exact:t.item.exact}},[e._v(" "+e._s(t.item.text)+" ")])]}}])})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{clearable:"","clear-icon":"close",label:"Filter"},on:{"click:clear":function(t){e.filter=""}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)],1),r("v-row",e._l(e.categories,(function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"3"}},[r("v-card",{attrs:{to:{name:"waiterCategory",params:{categoryId:t.id}}}},[r("v-card-title",[e._v(e._s(t.name))])],1)],1)})),1)],1)},Oe=[];function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je={name:"waiter",props:[],components:{},data:function(){return{breadcrumbs:[{text:"Kategorien",disabled:!0}],filter:""}},created:function(){},mounted:function(){this.fetchCategories()},methods:ge({},Object(l["b"])("categories",{fetchCategories:"find"})),computed:ge({},Object(l["c"])("categories",{listCategories:"list",findcategories:"find"}),{categories:function(){var e=this;return this.listCategories.filter((function(t){return t.name.toLowerCase().includes(e.filter.toLowerCase())}))}}),watch:{}},xe=je,we=r("2bc5"),ke=r("f625"),Ie=Object(v["a"])(xe,pe,Oe,!1,null,null,null),_e=Ie.exports;h()(Ie,{VBreadcrumbs:we["a"],VBreadcrumbsItem:ke["a"],VCard:z["a"],VCardTitle:K["c"],VCol:me["a"],VContainer:fe["a"],VRow:ve["a"],VTextField:k["a"]});var Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",[r("v-breadcrumbs",{attrs:{divider:">",items:e.breadcrumbs},scopedSlots:e._u([{key:"item",fn:function(t){return[r("v-breadcrumbs-item",{attrs:{to:t.item.to,disabled:t.item.disabled,exact:t.item.exact}},[e._v(" "+e._s(t.item.text)+" ")])]}}])})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-list",[r("v-list-item-group",{attrs:{multiple:"","return-object":""},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}},[e._l(this.itemExtensions,(function(t){return[r("v-list-item",{key:t.name,attrs:{value:t},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.active,i=n.toggle;return[r("v-list-item-content",[e._v(" "+e._s(t.name)+" ")]),r("v-list-item-action",[r("v-checkbox",{attrs:{"input-value":a,"true-value":t,color:"deep-purple accent-4"},on:{click:i}})],1)]}}],null,!0)})]}))],2)],1)],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-textarea",{attrs:{label:"Kommentar",hint:"Maximal 255 Zeichen!"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1),r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-text-field",{attrs:{type:"number",label:"Anzahl"},model:{value:e.quantity,callback:function(t){e.quantity=t},expression:"quantity"}})],1),r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-btn",{attrs:{block:""},on:{click:e.sendOrderedItem}},[r("v-icon",[e._v("add")]),e._v("Hinzuf체gen")],1)],1)],1),r("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackText)+" "),r("v-btn",{attrs:{text:""},on:{click:e.closeSnack}},[e._v(" Close ")])],1)],1)},Ve=[];r("d81d");function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te={name:"waiterItem",props:[],components:{},data:function(){return{selection:[],comment:"",quantity:1,snackbar:!1,snackText:""}},created:function(){},mounted:function(){this.fetchItems(),this.fetchCategories()},methods:Se({},Object(l["b"])("items",{fetchItems:"find"}),{},Object(l["b"])("categories",{fetchCategories:"find"}),{},Object(l["b"])("ordered-items",{createOrderedItem:"create"}),{},Object(l["d"])("waiter",{addOrderedItemToOrder:"addOrderedItem"}),{sendOrderedItem:function(){if(this.quantity=parseInt(this.quantity),""!==this.name&&void 0!==this.name)if(this.tableId>0)if(this.quantity>0){this.comment=this.comment.length>255?this.comment.substring(0,255):this.comment;var e={itemId:this.item.id,quantity:this.quantity,waiter:this.name,comment:this.comment,tableId:this.tableId,extensions:this.selection.map((function(e){return{id:e.id,name:e.name}}))};this.addOrderedItemToOrder(e),this.quantity=1,this.selection=[],this.comment="",this.showSnack("Zu Bestellung hinzugef체gt!")}else this.showSnack("Kein Anzahl eingegeben!");else this.showSnack("Kein Tisch ausgew채hlt!");else this.showSnack("Du hast keinen Namen!")},showSnack:function(e){this.snackText=e,this.snackbar=!0,setTimeout(this.closeSnack,2e3)},closeSnack:function(){this.snackbar=!1,this.snackText=""}}),computed:Se({},Object(l["e"])("base",["name","tableId"]),{},Object(l["c"])("items",{getItem:"get"}),{},Object(l["c"])("categories",{getCategory:"get"}),{item:function(){return this.getItem(parseInt(this.$route.params.itemId))},itemExtensions:function(){return null===this.item?[]:this.item.extensions},category:function(){return this.getCategory(parseInt(this.$route.params.categoryId))},breadcrumbs:function(){return null===this.category?[]:null===this.item?[]:[{text:"Kategorien",disabled:!1,to:{name:"waiter"},exact:!0},{text:this.category.name,to:{name:"waiterCategory",params:{categoryId:this.category.id}},disabled:!1,exact:!0},{text:this.item.name,disabled:!0}]}}),watch:{}},De=Te,Ee=r("ac7c"),$e=r("1baa"),Me=r("a844"),Fe=Object(v["a"])(De,Ce,Ve,!1,null,null,null),Ne=Fe.exports;h()(Fe,{VBreadcrumbs:we["a"],VBreadcrumbsItem:ke["a"],VBtn:p["a"],VCheckbox:Ee["a"],VCol:me["a"],VContainer:fe["a"],VIcon:O["a"],VList:y["a"],VListItem:g["a"],VListItemAction:J["a"],VListItemContent:j["a"],VListItemGroup:$e["a"],VRow:ve["a"],VSnackbar:$["a"],VTextField:k["a"],VTextarea:Me["a"]});var qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",[r("v-breadcrumbs",{attrs:{divider:">",items:e.breadcrumbs},scopedSlots:e._u([{key:"item",fn:function(t){return[r("v-breadcrumbs-item",{attrs:{to:t.item.to,disabled:t.item.disabled,exact:t.item.exact}},[e._v(" "+e._s(t.item.text)+" ")])]}}])})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{clearable:"","clear-icon":"close",label:"Filter"},on:{"click:clear":function(t){e.filter=""}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)],1),r("v-row",e._l(e.filteredItems,(function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"3"}},[r("v-card",{attrs:{to:{name:"waiterItem",params:{categoryId:e.$route.params.categoryId,itemId:t.id}}}},[r("v-card-title",[e._v(e._s(t.name))])],1)],1)})),1)],1)},Be=[];function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Re={name:"waiterCategory",props:[],components:{},data:function(){return{filter:""}},created:function(){},mounted:function(){this.fetchItems(),this.fetchCategories()},methods:Ae({},Object(l["b"])("items",{fetchItems:"find"}),{},Object(l["b"])("categories",{fetchCategories:"find"})),computed:Ae({},Object(l["c"])("items",{findItems:"find"}),{},Object(l["c"])("categories",{getCategory:"get"}),{filteredItems:function(){var e=this;return this.findItems({query:{categoryId:parseInt(this.$route.params.categoryId)}}).data.filter((function(t){return t.name.toLowerCase().includes(e.filter.toLowerCase())}))},category:function(){return this.getCategory(parseInt(this.$route.params.categoryId))},breadcrumbs:function(){return null===this.category?[]:[{text:"Kategorien",disabled:!1,to:{name:"waiter"},exact:!0},{text:this.category.name||"",disabled:!0}]}}),watch:{}},ze=Re,Ke=Object(v["a"])(ze,qe,Be,!1,null,null,null),He=Ke.exports;h()(Ke,{VBreadcrumbs:we["a"],VBreadcrumbsItem:ke["a"],VCard:z["a"],VCardTitle:K["c"],VCol:me["a"],VContainer:fe["a"],VRow:ve["a"],VTextField:k["a"]});var Je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"2"}},[r("v-select",{attrs:{items:e.filteredTables,"return-object":"","item-text":"name","item-value":"id",label:"Tische",clearable:"","clear-icon":"close"},model:{value:e.tableModel,callback:function(t){e.tableModel=t},expression:"tableModel"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{dark:"",block:""}},n),[e._v(" CRUD ")])]}}]),model:{value:e.tableDialog,callback:function(t){e.tableDialog=t},expression:"tableDialog"}},[r("v-card",[r("FeathersVuexFormWrapper",{attrs:{item:e.selectedTable,watch:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.clone,n=e.save,a=e.reset,i=e.remove;return[r("TableForm",{attrs:{item:t},on:{save:function(e){return n()},reset:a,remove:i}})]}}])})],1)],1)],1)],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[r("v-select",{attrs:{items:e.filteredCategories,"return-object":"","item-text":"name","item-value":"id",label:"Kategorien",clearable:"","clear-icon":"close"},model:{value:e.catModel,callback:function(t){e.catModel=t},expression:"catModel"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{dark:"",block:""}},n),[e._v(" CRUD ")])]}}]),model:{value:e.categoryDialog,callback:function(t){e.categoryDialog=t},expression:"categoryDialog"}},[r("v-card",[r("FeathersVuexFormWrapper",{attrs:{item:e.selectedCategory,watch:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.clone,n=e.save,a=e.reset,i=e.remove;return[r("CategoryForm",{attrs:{item:t},on:{save:function(e){return n()},reset:a,remove:i}})]}}])})],1)],1)],1)],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[r("v-select",{attrs:{items:e.filteredTypes,"return-object":"","item-text":"name","item-value":"id",label:"Typen",clearable:"","clear-icon":"close"},model:{value:e.typeModel,callback:function(t){e.typeModel=t},expression:"typeModel"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{dark:"",block:""}},n),[e._v(" CRUD ")])]}}]),model:{value:e.typeDialog,callback:function(t){e.typeDialog=t},expression:"typeDialog"}},[r("v-card",[r("FeathersVuexFormWrapper",{attrs:{item:e.selectedType,watch:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.clone,n=e.save,a=e.reset,i=e.remove;return[r("TypeForm",{attrs:{item:t},on:{save:function(e){return n()},reset:a,remove:i}})]}}])})],1)],1)],1)],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[r("v-select",{attrs:{items:e.filteredExtensions,"return-object":"","item-text":"name","item-value":"id",label:"Erweiterungen",clearable:"","clear-icon":"close"},model:{value:e.extensionModel,callback:function(t){e.extensionModel=t},expression:"extensionModel"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{dark:"",block:""}},n),[e._v(" CRUD ")])]}}]),model:{value:e.extensionDialog,callback:function(t){e.extensionDialog=t},expression:"extensionDialog"}},[r("v-card",[r("FeathersVuexFormWrapper",{attrs:{item:e.selectedExtension,watch:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.clone,n=e.save,a=e.reset,i=e.remove;return[r("ExtensionForm",{attrs:{item:t},on:{save:function(e){return n()},reset:a,remove:i}})]}}])})],1)],1)],1)],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[r("v-select",{attrs:{items:e.filteredItems,"return-object":"","item-text":"name","item-value":"id",label:"Items",clearable:"","clear-icon":"close"},model:{value:e.itemModel,callback:function(t){e.itemModel=t},expression:"itemModel"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{dark:"",block:""}},n),[e._v(" CRUD ")])]}}]),model:{value:e.itemDialog,callback:function(t){e.itemDialog=t},expression:"itemDialog"}},[r("v-card",[r("FeathersVuexFormWrapper",{attrs:{item:e.selectedItem,watch:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.clone,n=e.save,a=e.reset,i=e.remove;return[r("ItemForm",{attrs:{item:t},on:{save:function(e){return n()},reset:a,remove:i}})]}}])})],1)],1)],1)],1),r("v-row",[r("v-col",{attrs:{cols:"2"}},[r("v-btn",{attrs:{block:""},on:{click:e.exportConfig}},[r("v-icon",[e._v("file_download")]),e._v(" Export configuration ")],1)],1),r("v-col",{attrs:{cols:"4"}},[r("v-file-input",{attrs:{label:"File input",accept:".json",clearable:"","clear-icon":"close"},model:{value:e.uploadedFile,callback:function(t){e.uploadedFile=t},expression:"uploadedFile"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-btn",{attrs:{disabled:null===e.uploadedFile||void 0===e.uploadedFile},on:{click:e.readFile}},[e._v(" Validate and save ")])],1)],1)],1)},We=[],Ue=(r("7db0"),r("3ca3"),r("ddb0"),r("9e62")),Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(t){return t.preventDefault(),e.$emit("save")}}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{attrs:{type:"submit"}},[e._v("Save")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("reset")}}},[e._v("Reset")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("remove")}}},[e._v("Delete")])],1)],1)],1)],1)},Ze=[],Qe={name:"TableForm",props:{item:{type:Object,required:!0}}},Xe=Qe,Ye=r("4bd4"),et=Object(v["a"])(Xe,Ge,Ze,!1,null,null,null),tt=et.exports;h()(et,{VBtn:p["a"],VCol:me["a"],VContainer:fe["a"],VForm:Ye["a"],VRow:ve["a"],VTextField:k["a"]});var rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(t){return t.preventDefault(),e.$emit("save")}}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{attrs:{type:"submit"}},[e._v("Save")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("reset")}}},[e._v("Reset")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("remove")}}},[e._v("Delete")])],1)],1)],1)],1)},nt=[],at={name:"CategoryForm",props:{item:{type:Object,required:!0}}},it=at,ot=Object(v["a"])(it,rt,nt,!1,null,null,null),ct=ot.exports;h()(ot,{VBtn:p["a"],VCol:me["a"],VContainer:fe["a"],VForm:Ye["a"],VRow:ve["a"],VTextField:k["a"]});var st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(t){return t.preventDefault(),e.$emit("save")}}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{attrs:{type:"submit"}},[e._v("Save")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("reset")}}},[e._v("Reset")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("remove")}}},[e._v("Delete")])],1)],1)],1)],1)},lt=[],ut={name:"TypeForm",props:{item:{type:Object,required:!0}}},dt=ut,mt=Object(v["a"])(dt,st,lt,!1,null,null,null),ft=mt.exports;h()(mt,{VBtn:p["a"],VCol:me["a"],VContainer:fe["a"],VForm:Ye["a"],VRow:ve["a"],VTextField:k["a"]});var vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(t){return t.preventDefault(),e.$emit("save")}}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{type:"number"},on:{change:function(t){e.item.priceModifier=parseFloat(e.item.priceModifier)}},model:{value:e.item.priceModifier,callback:function(t){e.$set(e.item,"priceModifier",t)},expression:"item.priceModifier"}})],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{attrs:{type:"submit"}},[e._v("Save")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("reset")}}},[e._v("Reset")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("remove")}}},[e._v("Delete")])],1)],1)],1)],1)},bt=[],ht={name:"ExtensionForm",props:{item:{type:Object,required:!0}}},pt=ht,Ot=Object(v["a"])(pt,vt,bt,!1,null,null,null),yt=Ot.exports;h()(Ot,{VBtn:p["a"],VCol:me["a"],VContainer:fe["a"],VForm:Ye["a"],VRow:ve["a"],VTextField:k["a"]});var gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(t){return t.preventDefault(),e.$emit("save")}}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{type:"number"},on:{change:function(t){e.item.price=parseFloat(e.item.price)}},model:{value:e.item.price,callback:function(t){e.$set(e.item,"price",t)},expression:"item.price"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.categories,"item-value":"id","item-text":"name",label:"Kategorie"},model:{value:e.item.categoryId,callback:function(t){e.$set(e.item,"categoryId",t)},expression:"item.categoryId"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.types,"item-value":"id","item-text":"name",label:"Typ"},model:{value:e.item.typeId,callback:function(t){e.$set(e.item,"typeId",t)},expression:"item.typeId"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.extensions,"item-value":"id","item-text":"name",label:"Erweiterungen","return-object":"",multiple:"",chips:""},model:{value:e.item.extensions,callback:function(t){e.$set(e.item,"extensions",t)},expression:"item.extensions"}})],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{attrs:{type:"submit"}},[e._v("Save")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("reset")}}},[e._v("Reset")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{on:{click:function(t){return e.$emit("remove")}}},[e._v("Delete")])],1)],1)],1)],1)},jt=[];function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kt={name:"ItemForm",props:{item:{type:Object,required:!0}},data:function(){return{}},computed:wt({},Object(l["c"])("categories",{categories:"list"}),{},Object(l["c"])("types",{types:"list"}),{},Object(l["c"])("extensions",{extensions:"list"}))},It=kt,_t=Object(v["a"])(It,gt,jt,!1,null,null,null),Ct=_t.exports;h()(_t,{VBtn:p["a"],VCol:me["a"],VContainer:fe["a"],VForm:Ye["a"],VRow:ve["a"],VSelect:w["a"],VTextField:k["a"]});r("a623"),r("45fc");var Vt=r("d4ec"),Pt=r("bee2"),St=function(){function e(){Object(Vt["a"])(this,e),this.checks=[]}return Object(Pt["a"])(e,[{key:"addCheck",value:function(e){return this.checks.push({cb:e}),this}},{key:"addLinkedChecker",value:function(e,t){return this.checks.push({cb:e,checker:t}),this}},{key:"addArrayCheck",value:function(e,t){return this.checks.push({arrayCb:e,checker:t}),this}},{key:"addForeignKeyChecker",value:function(e,t,r,n,a){return this.checks.push({fkCb:e,checker:t,blob:{data1:r,data2:n,key:a}}),this}},{key:"compare",value:function(e,t){return this.checks.every((function(r){var n=r.cb,a=r.arrayCb,i=r.checker,o=r.fkCb,c=r.blob;if(i&&n)return i.compare(n(e),n(t));if(i&&a){var s=a(e).every((function(e){return a(t).some((function(t){return i.compare(e,t)}))})),l=a(t).every((function(t){return a(e).some((function(e){return i.compare(t,e)}))})),u=a(e).length===a(t).length;return s&&l&&u}if(o&&i&&c){var d=c.data1,m=c.data2,f=c.key,v=d.find((function(t){return t[f]===o(e)})),b=m.find((function(e){return e[f]===o(t)}));return i.compare(v,b)}return n(e)===n(t)}))}}]),e}();function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Et={name:"Configurator",props:[],components:{TableForm:tt,CategoryForm:ct,TypeForm:ft,ExtensionForm:yt,ItemForm:Ct,FeathersVuexFormWrapper:Ue["a"]},data:function(){return{tableModel:void 0,catModel:void 0,typeModel:void 0,extensionModel:void 0,itemModel:void 0,tableDialog:null,categoryDialog:null,typeDialog:null,extensionDialog:null,itemDialog:null,uploadedFile:null,fileContent:null}},created:function(){},mounted:function(){this.fetchTables(),this.fetchCategories(),this.fetchItems(),this.fetchTypes(),this.fetchExtensions(),this.fetchItemsExtensionsMap()},methods:Dt({},Object(l["b"])("tables",{fetchTables:"find",createTable:"create"}),{},Object(l["b"])("categories",{fetchCategories:"find",createCategory:"create"}),{},Object(l["b"])("items",{fetchItems:"find",createItem:"create"}),{},Object(l["b"])("types",{fetchTypes:"find",createType:"create"}),{},Object(l["b"])("extensions",{fetchExtensions:"find",createExtension:"create"}),{},Object(l["b"])("items-can-have-extensions",{fetchItemsExtensionsMap:"find",createMap:"create"}),{exportConfig:function(){var e="config.json",t={tables:this.filteredTables.map((function(e){var t=e.id,r=e.name;return{id:t,name:r}})),categories:this.filteredCategories.map((function(e){var t=e.id,r=e.name;return{id:t,name:r}})),items:this.filteredItems.map((function(e){var t=e.id,r=e.name,n=e.category,a=e.type,i=e.price,o=e.extensions;return{id:t,name:r,category:n,type:a,price:i,extensions:o}})),types:this.filteredTypes.map((function(e){var t=e.id,r=e.name;return{id:t,name:r}})),extensions:this.filteredExtensions.map((function(e){var t=e.id,r=e.name,n=e.priceModifier;return{id:t,name:r,priceModifier:n}})),itemsCanHaveExtensions:this.itemsExtensionsMap.map((function(e){var t=e.extensionId,r=e.itemId;return{extensionId:t,itemId:r}}))},r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(t))),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},readFile:function(){var e=this;if(this.uploadedFile){var t=new FileReader,r=this;t.onload=function(t){var n=t&&t.target&&t.target.result;n&&(r.fileContent=JSON.parse(n),e.crossCheckContent())},t.onerror=function(e){t.abort()},t.readAsText(this.uploadedFile)}},crossCheckContent:function(){var e=this,t=this.fileContent,r=t.tables,n=t.items,a=t.categories,i=t.extensions,o=t.types,c=[];r.forEach((function(t){var r=e.tables.find((function(r){return e.tableChecker.compare(r,t)}));r||e.createTable(t)})),o.forEach((function(t){var r=e.types.find((function(r){return e.typeChecker.compare(t,r)}));r||c.push(e.createType(t).then((function(e){return t.newId=e.id,{type:t}})))})),a.forEach((function(t){var r=e.categories.find((function(r){return e.categoryChecker.compare(t,r)}));r||c.push(e.createCategory(t).then((function(e){return t.newId=e.id,{category:t}})))})),i.forEach((function(t){var r=e.extensions.find((function(r){return e.extensionChecker.compare(t,r)}));r||c.push(e.createExtension(t).then((function(e){return t.newId=e.id,{extension:t}})))})),Promise.all(c).then((function(t){n.forEach((function(t){var r=e.items.find((function(r){return e.itemChecker.compare(t,r)}));if(!r){var n=e.types.find((function(r){return e.typeChecker.compare(r,t.type)})),a=e.categories.find((function(r){return e.categoryChecker.compare(r,t.category)})),i=[];t.extensions.forEach((function(t){i.push(e.extensions.find((function(r){return e.extensionChecker.compare(t,r)})))})),t.categoryId=a.id,t.typeId=n.id,t.extensions=i.map((function(e){return{id:e.id}})),e.createItem(t)}}))}))}}),computed:Dt({},Object(l["c"])("tables",{tables:"list",getTable:"get"}),{},Object(l["c"])("categories",{categories:"list",getCategory:"get"}),{},Object(l["c"])("items",{items:"list",getItem:"get"}),{},Object(l["c"])("types",{types:"list",getType:"get"}),{},Object(l["c"])("extensions",{extensions:"list",getExtension:"get"}),{},Object(l["c"])("items-can-have-extensions",{itemsExtensionsMap:"list"}),{filteredTables:function(){return this.tables.filter((function(e){return 0!==e.id}))},filteredCategories:function(){return this.categories.filter((function(e){return 0!==e.id}))},filteredTypes:function(){return this.types.filter((function(e){return 0!==e.id}))},filteredExtensions:function(){return this.extensions.filter((function(e){return 0!==e.id}))},filteredItems:function(){return this.items.filter((function(e){return 0!==e.id}))},selectedTable:function(){var e=this.$FeathersVuex.api.Tables;return void 0===this.tableModel?new e:this.getTable(this.tableModel.id)},selectedCategory:function(){var e=this.$FeathersVuex.api.Categories;return void 0===this.catModel?new e:this.getCategory(this.catModel.id)},selectedType:function(){var e=this.$FeathersVuex.api.Types;return void 0===this.typeModel?new e:this.getType(this.typeModel.id)},selectedExtension:function(){var e=this.$FeathersVuex.api.Extensions;return void 0===this.extensionModel?new e:this.getExtension(this.extensionModel.id)},selectedItem:function(){var e=this.$FeathersVuex.api.Items;return void 0===this.itemModel?new e:this.getItem(this.itemModel.id)},tableChecker:function(){return(new St).addCheck((function(e){return e.name}))},categoryChecker:function(){return(new St).addCheck((function(e){return e.name}))},extensionChecker:function(){return(new St).addCheck((function(e){return e.name})).addCheck((function(e){return e.priceModifier}))},mapperChecker:function(){return(new St).addForeignKeyChecker((function(e){return e.extensionId}),this.extensionChecker,this.fileContent.extensions,this.extensions,"id").addForeignKeyChecker((function(e){return e.itemId}),this.itemChecker,this.fileContent.items,this.items,"id")},itemChecker:function(){return(new St).addCheck((function(e){return e.name})).addCheck((function(e){return e.price})).addLinkedChecker((function(e){return e.category}),this.categoryChecker).addLinkedChecker((function(e){return e.type}),this.typeChecker).addArrayCheck((function(e){return e.extensions}),this.extensionChecker)},typeChecker:function(){return(new St).addCheck((function(e){return e.name}))}})},$t=Et,Mt=r("23a7"),Ft=Object(v["a"])($t,Je,We,!1,null,null,null),Nt=Ft.exports;h()(Ft,{VBtn:p["a"],VCard:z["a"],VCol:me["a"],VContainer:fe["a"],VDialog:H["a"],VFileInput:Mt["a"],VIcon:O["a"],VRow:ve["a"],VSelect:w["a"]});var qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"1"}},[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{dark:"",block:""}},n),[e._v("CONFIGURIEREN")])]}}]),model:{value:e.configModel,callback:function(t){e.configModel=t},expression:"configModel"}},[r("v-card",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{chips:"",label:"Items",items:e.items,multiple:"","item-text":"name","item-value":"id","return-object":""},model:{value:e.itemSelection,callback:function(t){e.itemSelection=t},expression:"itemSelection"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{chips:"",label:"Kategorien",items:e.categories,multiple:"","item-text":"name","item-value":"id","return-object":""},model:{value:e.categorySelection,callback:function(t){e.categorySelection=t},expression:"categorySelection"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{chips:"",label:"Typen",items:e.types,multiple:"","item-text":"name","item-value":"id","return-object":""},model:{value:e.typeSelection,callback:function(t){e.typeSelection=t},expression:"typeSelection"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-btn",{attrs:{block:"",dark:""}},[e._v("CLOSE")])],1)],1)],1)],1)],1)],1)],1),r("v-row",e._l(e.clusteredOrderedItems,(function(t,n){return r("v-col",{key:"cluster-"+n,attrs:{cols:"4"}},[r("Cluster",{attrs:{cluster:t},on:{chosen:function(r){return e.clusterChosen(t)}}})],1)})),1)],1)},Bt=[],Lt=(r("99af"),r("2909")),At=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{on:{click:function(t){return e.$emit("chosen")}}},[r("v-card-title",{class:!0===e.cluster.chosen?"red--text headline":"green--text headline"},[e._v(" "+e._s(e.title)+" ")]),r("v-card-text",[r("v-list",{attrs:{subheader:""}},[e._l(e.cluster.orderedItems,(function(t){return[r("v-subheader",{key:"subheader/"+t.id},[e._v(e._s(e._f("subheader")(t)))]),""!==t.comment?r("v-list-item",{key:"comment/"+t.id},[r("v-list-item-title",{staticClass:"red--text"},[e._v(e._s(t.comment))])],1):e._e(),r("v-list-group",{key:"list-group/"+t.id,attrs:{value:"true","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-title",{class:t.item.name.match(/[Gg]las/)||t.item.name.match(/[Ww]asser/)?"blue--text headline":"white--text headline",on:{click:function(r){return e.finalizeSingleOrderedItem(t)}}},[e._v(" "+e._s(e._f("itemTitle")(t))+" ")])]},proxy:!0}],null,!0)},e._l(t.extensions,(function(n,a){return r("v-list-item",{key:"extension/"+t.id+"/"+a},[r("v-list-item-title",[e._v(e._s(n.name))])],1)})),1),r("v-divider",{key:"divider/"+t.id})]}))],2),r("v-card-actions",[r("v-btn",{attrs:{block:""},on:{click:e.finalizeAll}},[e._v("Fertigstellen")])],1)],1)],1)},Rt=[];function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ht={name:"Cluster",props:["cluster"],components:{},data:function(){return{}},created:function(){},mounted:function(){},methods:Kt({},Object(l["b"])("ordered-items",{updateOrderedItem:"update"}),{finalizeAll:function(){var e=this;this.cluster.orderedItems.forEach((function(t){e.finalizeSingleOrderedItem(t)}))},finalizeSingleOrderedItem:function(e){var t=Kt({},e);t.finished=t.quantity,this.updateOrderedItem([t.id,t,{}])}}),computed:{title:function(){var e=this.cluster.orderedItems.length>1?this.cluster.orderedItems[0].id+"-"+this.cluster.orderedItems[this.cluster.orderedItems.length-1].id:this.cluster.orderedItems[0].id;return this.cluster.table.name+"/"+e}},filters:{subheader:function(e){return e.waiter+" mit "+e.table.name+"/"+e.id},itemTitle:function(e){var t=e.item.name,r=void 0===t?"":t,n=e.quantity,a=void 0===n?0:n;return r+" x "+a}}},Jt=Ht,Wt=r("ce7e"),Ut=r("56b0"),Gt=r("e0c7"),Zt=Object(v["a"])(Jt,At,Rt,!1,null,null,null),Qt=Zt.exports;function Xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}h()(Zt,{VBtn:p["a"],VCard:z["a"],VCardActions:K["a"],VCardText:K["b"],VCardTitle:K["c"],VDivider:Wt["a"],VList:y["a"],VListGroup:Ut["a"],VListItem:g["a"],VListItemTitle:j["c"],VSubheader:Gt["a"]});var er={name:"Buffet",props:[],components:{Cluster:Qt},data:function(){return{configModel:null,categorySelection:[],typeSelection:[],itemSelection:[],chosenOrderedItems:[]}},created:function(){},mounted:function(){this.fetchItems(),this.fetchCategories(),this.fetchTypes(),this.fetchOrderedItems()},methods:Yt({},Object(l["b"])("items",{fetchItems:"find"}),{},Object(l["b"])("categories",{fetchCategories:"find"}),{},Object(l["b"])("types",{fetchTypes:"find"}),{},Object(l["b"])("ordered-items",{fetchOrderedItems:"find"}),{clusterChosen:function(e){this.chosenOrderedItems=[].concat(Object(Lt["a"])(this.chosenOrderedItems),Object(Lt["a"])(e.orderedItems.map((function(e){var t=e.id;return t}))))}}),watch:{},computed:Yt({},Object(l["c"])("items",{items:"list",findItems:"find"}),{},Object(l["c"])("categories",{categories:"list"}),{},Object(l["c"])("types",{types:"list"}),{},Object(l["c"])("ordered-items",{findOrderedItems:"find",orderedItems:"list"}),{clusteredOrderedItems:function(){var e=this,t=[],r=[],n=[],a=[];this.typeSelection.length>0&&(t=this.findItems({query:{typeId:{$in:this.typeSelection.map((function(e){return e.id}))}}}).data.map((function(e){return e.id}))),this.categorySelection.length>0&&(r=this.findItems({query:{categoryId:{$in:this.categorySelection.map((function(e){return e.id}))}}}).data.map((function(e){return e.id}))),n=[].concat(Object(Lt["a"])(this.itemSelection.map((function(e){return e.id}))),Object(Lt["a"])(t),Object(Lt["a"])(r)),a=0===n.length?this.findOrderedItems({query:{$sort:{id:1}}}).data:this.findOrderedItems({query:{itemId:{$in:n},$sort:{id:1}}}).data;var i={orderedItems:[],table:{}},o=[];return a.filter((function(e){var t=e.finished,r=e.quantity;return t<r})).forEach((function(e){0===i.orderedItems.length?(i.orderedItems.push(e),i.table=e.table):i.table.id===e.tableId?i.orderedItems.push(e):(o.push(JSON.parse(JSON.stringify(i))),i.orderedItems=[e],i.table=e.table)})),i.orderedItems.length>0&&o.push(i),o.forEach((function(t){t.orderedItems.some((function(t){var r=t.id;return e.chosenOrderedItems.includes(r)}))?t.chosen=!0:t.chosen=!1})),o}})},tr=er,rr=Object(v["a"])(tr,qt,Bt,!1,null,null,null),nr=rr.exports;h()(rr,{VBtn:p["a"],VCard:z["a"],VCol:me["a"],VContainer:fe["a"],VDialog:H["a"],VRow:ve["a"],VSelect:w["a"]});var ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[e.tables.length>0?r("v-list",[e._l(e.tables,(function(t){return[r("v-list-item",{key:"servant/listItem/tables/"+t.id,attrs:{to:{name:"ServantBase",params:{tableId:t.id}}}},[e._v(" "+e._s(e._f("display")(t))+" ")]),r("v-divider",{key:"servant/divider/tables/"+t.id})]}))],2):e._e(),0===e.tables.length?r("v-alert",{attrs:{outlined:"",color:"primary"}},[e._v("Derzeit keine Tische zum bearbeiten verf체gbar")]):e._e()],1)],1)],1)},ir=[];function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sr={name:"Servant",props:[],components:{},data:function(){return{selectedTables:[],finishedSelection:[]}},created:function(){},mounted:function(){this.fetchOrderedItems(),this.fetchTables()},methods:cr({},Object(l["b"])("ordered-items",{fetchOrderedItems:"find"}),{},Object(l["b"])("tables",{fetchTables:"find"}),{toggle:function(){var e=this;this.$nextTick((function(){e.tables.length===e.selectedTables.length&&e.selectedTables.length>0?e.selectedTables=[]:e.selectedTables=Object(Lt["a"])(e.tables.map((function(e){var t=e.id;return t})))}))}}),watch:{},computed:cr({},Object(l["c"])("ordered-items",{rawOrderedItems:"list"}),{},Object(l["c"])("tables",{allTables:"list",findTables:"find"}),{filteredOrderedItems:function(){return this.rawOrderedItems.filter((function(e){var t=e.cashed,r=e.served,n=e.quantity,a=e.finished;return n===a&&(t<n||r<n)}))},tableFilteredOrderedItems:function(){var e=this;return this.filteredOrderedItems.filter((function(t){var r=t.tableId;return e.selectedTables.includes(r)}))},finishedOrderedItems:function(){return this.tableFilteredOrderedItems.filter((function(e){var t=e.quantity,r=e.served;return t>r}))},servedOrderedItems:function(){return this.tableFilteredOrderedItems.filter((function(e){var t=e.quantity,r=e.served,n=e.cashed;return t>n&&n<r}))},allText:function(){return this.tables.length===this.selectedTables.length&&this.selectedTables.length>0?"Alles Abw채hlen":"Alles Ausw채hlen"},tables:function(){var e=[];return this.filteredOrderedItems.forEach((function(t){var r=t.tableId;e.includes(r)||e.push(r)})),this.findTables({query:{id:{$in:e}}}).data}}),filters:{display:function(e){var t=e.name;return"Tisch Nr.: "+t}}},lr=sr,ur=r("0798"),dr=Object(v["a"])(lr,ar,ir,!1,null,null,null),mr=dr.exports;h()(dr,{VAlert:ur["a"],VCol:me["a"],VContainer:fe["a"],VDivider:Wt["a"],VList:y["a"],VListItem:g["a"],VRow:ve["a"]});var fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("v-range-slider",{attrs:{min:1,max:e.max},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.range[0],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){return e.$set(e.range,0,t)}}})]},proxy:!0},{key:"append",fn:function(){return[r("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.range[1],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){return e.$set(e.range,1,t)}}})]},proxy:!0}]),model:{value:e.range,callback:function(t){e.range=t},expression:"range"}})],1),r("v-card-text",[r("v-list",[e._l(e.filteredOrderedItems,(function(t){return[r("v-list-item",{key:"master/oi/"+t.id},[r("FeathersVuexFormWrapper",{attrs:{item:t,watch:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.clone,n=e.save;return[r("ItemForm",{attrs:{item:t},on:{save:function(e){return n()}}})]}}],null,!0)})],1),r("v-divider",{key:"master/divider/"+t.id})]}))],2)],1)],1)},vr=[],br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{on:{submit:function(t){return t.preventDefault(),e.$emit("save")}}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"1"}},[r("v-text-field",{attrs:{disabled:"",label:"Item ID"},model:{value:e.item.id,callback:function(t){e.$set(e.item,"id",t)},expression:"item.id"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-text-field",{attrs:{disabled:"",label:"Item Name"},model:{value:e.item.item.name,callback:function(t){e.$set(e.item.item,"name",t)},expression:"item.item.name"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-text-field",{attrs:{label:"Kellner"},model:{value:e.item.waiter,callback:function(t){e.$set(e.item,"waiter",t)},expression:"item.waiter"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-text-field",{attrs:{label:"Kommentar"},model:{value:e.item.comment,callback:function(t){e.$set(e.item,"comment",t)},expression:"item.comment"}})],1),r("v-col",{attrs:{cols:"1"}},[r("v-text-field",{attrs:{type:"number",label:"#Anzahl"},model:{value:e.item.quantity,callback:function(t){e.$set(e.item,"quantity",t)},expression:"item.quantity"}})],1),r("v-col",{attrs:{cols:"1"}},[r("v-text-field",{attrs:{type:"number",label:"#Fertig"},model:{value:e.item.finished,callback:function(t){e.$set(e.item,"finished",t)},expression:"item.finished"}})],1),r("v-col",{attrs:{cols:"1"}},[r("v-text-field",{attrs:{type:"number",label:"#Serviert"},model:{value:e.item.served,callback:function(t){e.$set(e.item,"served",t)},expression:"item.served"}})],1),r("v-col",{attrs:{cols:"1"}},[r("v-text-field",{attrs:{type:"number",label:"#Kassiert"},model:{value:e.item.cashed,callback:function(t){e.$set(e.item,"cashed",t)},expression:"item.cashed"}})],1),r("v-col",{attrs:{cols:"1"}},[r("v-btn",{attrs:{type:"submit"}},[e._v("Save")])],1)],1)],1)],1)},hr=[],pr={name:"OrderedItemForm",props:{item:{type:Object,required:!0}},data:function(){return{}},mounted:function(){},computed:{},methods:{}},Or=pr,yr=Object(v["a"])(Or,br,hr,!1,null,null,null),gr=yr.exports;function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}h()(yr,{VBtn:p["a"],VCol:me["a"],VContainer:fe["a"],VForm:Ye["a"],VRow:ve["a"],VTextField:k["a"]});var wr={name:"Master",props:[],components:{FeathersVuexFormWrapper:Ue["a"],ItemForm:gr},data:function(){return{range:[]}},created:function(){},mounted:function(){var e=this;this.fetchOrderedItems().then((function(t){n["a"].set(e.range,0,1),n["a"].set(e.range,1,t.pop().id)}))},methods:xr({},Object(l["b"])("ordered-items",{fetchOrderedItems:"find"})),watch:{},computed:xr({},Object(l["c"])("ordered-items",{orderedItems:"list"}),{max:function(){return 0===this.orderedItems.length?1:this.orderedItems[this.orderedItems.length-1].id},filteredOrderedItems:function(){var e=this;return this.orderedItems.filter((function(t){var r=t.id;return r>=e.range[0]&&r<=e.range[1]}))}})},kr=wr,Ir=r("5963"),_r=Object(v["a"])(kr,fr,vr,!1,null,null,null),Cr=_r.exports;h()(_r,{VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VDivider:Wt["a"],VList:y["a"],VListItem:g["a"],VRangeSlider:Ir["a"],VTextField:k["a"]});var Vr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"2"}},[r("v-select",{attrs:{label:"Typen",items:e.types,"item-text":"name","item-value":"id"},model:{value:e.typeModel,callback:function(t){e.typeModel=t},expression:"typeModel"}})],1)],1)],1)],1),r("v-card-text",[r("svg",{attrs:{height:"1000px",width:"100%"}},[r("g",{attrs:{"font-family":"sans-serif","font-size":"20","stroke-linejoin":"round","stroke-width":"1",fill:"white","font-weight":"900"}},[e._l(e.root.descendants(),(function(t,n){return r("text",{key:"text/"+n,attrs:{dx:e.dx(t,n),dy:"5","text-anchor":e.textAnchor(t,n),stroke:"#1E1E1E",x:t.y,y:t.x}},[e._v(e._s(t.data.name))])})),e._l(e.extensionHierarchy,(function(t,n){return r("text",{key:"ext/text/"+n,attrs:{dx:"6",dy:"5","text-anchor":"start",stroke:"#1e1e1e",x:t.y,y:t.x}},[e._v(" "+e._s(t.name)+" ")])}))],2),r("g",{attrs:{fill:"none",stroke:"#999","stroke-opacity":"0.4","stroke-width":"1.5"}},e._l(e.root.links().concat(e.extensionPaths),(function(t,n){return r("path",{key:"path/"+n,attrs:{d:e.linkGenerator([t.source,t.target])}})})),0),r("g",[e._l(e.root.descendants(),(function(t,n){return r("circle",{key:"circle/"+n,attrs:{fill:e.fill(t),r:"5",cx:t.y,cy:t.x}})})),e._l(e.extensionHierarchy,(function(e,t){return r("circle",{key:"ext/circle/"+t,attrs:{fill:"#555",r:"5",cx:e.y,cy:e.x}})}))],2)])])],1)},Pr=[],Sr=r("3835"),Tr=r("5698");function Dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $r={name:"Hierarchy",props:[],components:{},data:function(){return{typeModel:void 0,width:800,height:1e3}},created:function(){},mounted:function(){this.fetchItems(),this.fetchTypes()},methods:Er({},Object(l["b"])("items",{fetchItems:"find"}),{},Object(l["b"])("types",{fetchTypes:"find"}),{calcPath:function(e){var t=Object(Sr["a"])(e,2),r=t[0],n=t[1],a={x:r.y,y:r.x},i={x:r.y+200,y:r.x},o={x:n.y,y:n.x},c={x:n.y-200,y:n.x},s="M";return s+=a.x+","+a.y,s+="C",s+=i.x+","+i.y,s+=","+c.x+","+c.y,s+=","+o.x+","+o.y,s},dx:function(e,t){return 0===t?"6":e.children&&e.children.length>0?"-6":e.data.extensions&&e.data.extensions.length>0?"-6":"6"},textAnchor:function(e,t){return 0===t?"start":e.children&&e.children.length>0?"end":e.data.extensions&&e.data.extensions.length>0?"end":"start"},fill:function(e){return e.children&&e.children.length>0?"#555":e.data.extensions&&e.data.extensions.length>0?"#555":"#999"}}),watch:{},computed:Er({},Object(l["c"])("items",{findItems:"find"}),{},Object(l["c"])("types",{types:"list",getType:"get"}),{data:function(){if(void 0===this.typeModel)return{};var e=this.getType(this.typeModel),t=e.name,r=e.id,n={name:t,children:[]},a=this.findItems({query:{typeId:r}}).data;return a.forEach((function(e){var t=e.category;n.children.map((function(e){var t=e.id;return t})).includes(t.id)||n.children.push(Er({},t,{children:[]}))})),n.children.forEach((function(e){e.children=a.filter((function(t){var r=t.categoryId;return r===e.id}))})),n},hierarchy:function(){return Tr["b"](this.data).sort((function(e,t){return Tr["a"](e.data.name,t.data.name)}))},layout:function(){return Tr["f"]().size([this.height,this.width]).separation((function(e,t){return(e.parent===t.parent?1:2)/e.depth}))},root:function(){return this.layout(this.hierarchy)},linkGenerator:function(){var e=this;return function(t){return e.calcPath(t)}},lowestChilds:function(){return this.root.descendants().filter((function(e){var t=e.height;return 0===t}))},extensionHierarchy:function(){var e=this,t=[];this.lowestChilds.forEach((function(e){var r=e.data.extensions;r&&r.forEach((function(e){var r=e.id,n=e.name;t.map((function(e){var t=e.id;return t})).includes(r)||t.push({id:r,name:n})}))}));var r=this.height/(t.length+1);return t.forEach((function(t,n){t.y=1.8*e.width,t.x=(n+1)*r})),t},extensionPaths:function(){var e=this,t=[];return this.lowestChilds.forEach((function(r){var n=r.data.extensions,a={x:r.x,y:r.y};n&&n.forEach((function(r){var n=r.id,i=e.extensionHierarchy.find((function(e){var t=e.id;return t===n})),o={x:i.x,y:i.y};t.push({source:a,target:o})}))})),t}})},Mr=$r,Fr=Object(v["a"])(Mr,Vr,Pr,!1,null,null,null),Nr=Fr.exports;h()(Fr,{VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:me["a"],VContainer:fe["a"],VRow:ve["a"],VSelect:w["a"]});var qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[e._v("SCOREBOARD")]),r("v-card-text",[r("svg",{attrs:{height:"1000",width:"100%"}})])],1)},Br=[];r("a15b");function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rr={name:"Scoreboard",props:[],components:{},data:function(){return{width:1e3,height:1e3}},created:function(){},mounted:function(){this.fetchOrderedItems()},methods:Ar({},Object(l["b"])("ordered-items",{fetchOrderedItems:"find"})),watch:{},computed:Ar({},Object(l["c"])("ordered-items",{orderedItems:"list"}),{nester:function(){return Tr["c"]().key((function(e){return e.waiter})).key((function(e){return e.table.name})).key((function(e){return e.item.name}))},nestedData:function(){return{key:"root",values:this.nester.entries(this.orderedItems)}},hierarchy:function(){return Tr["b"](this.nestedData,(function(e){return e.values})).sum((function(e){return e.quantity})).sort((function(e,t){return Tr["a"](e.quantity,t.quantity)}))},layout:function(){return Tr["d"]().size([this.width,this.height]).padding(2)},root:function(){return this.layout(this.hierarchy)},showData:function(){var e=Tr["e"]("svg");return e.append("g").selectAll("circle").data(this.root.descendants()).join("circle").attr("fill","none").attr("r",(function(e){return e.r})).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).attr("stroke","white"),e.node()}})},zr=Rr,Kr=Object(v["a"])(zr,qr,Br,!1,null,null,null),Hr=Kr.exports;h()(Kr,{VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"]});var Jr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-breadcrumbs",{attrs:{items:e.breadcrumbs,divider:">"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("router-view")],1)],1)],1)},Wr=[];function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zr={name:"ServantWrapper",props:[],components:{},data:function(){return{}},created:function(){},mounted:function(){this.fetchTables()},methods:Gr({},Object(l["b"])("tables",{fetchTables:"find"})),watch:{},computed:Gr({},Object(l["c"])("tables",{getTable:"get"}),{tableId:function(){return this.$route.params.tableId},table:function(){return this.getTable(this.tableId)},routeName:function(){return this.$route.name},breadcrumbs:function(){var e=[];return e.push({text:"Tische",exact:!0,to:{name:"servant"}}),null!==this.table&&void 0!==this.table&&e.push({text:"Tisch Nr.: "+this.table.name||!1,exact:!0,to:{name:"ServantBase",params:{tableId:this.tableId}}}),"ServantServe"===this.routeName&&e.push({text:"Servieren",exact:!0}),"ServantCash"===this.routeName&&e.push({text:"Kassieren",exact:!0}),e}})},Qr=Zr,Xr=Object(v["a"])(Qr,Jr,Wr,!1,null,null,null),Yr=Xr.exports;h()(Xr,{VBreadcrumbs:we["a"],VCol:me["a"],VContainer:fe["a"],VRow:ve["a"]});var en=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-btn",{attrs:{block:"",to:{name:"ServantServe",params:{tableId:this.$route.params.tableId}}}},[e._v("Servieren")])],1),r("v-col",{attrs:{cols:"12"}},[r("v-btn",{attrs:{block:"",to:{name:"ServantCash",params:{tableId:this.$route.params.tableId}}}},[e._v("Kassieren")])],1)],1)],1)],1)],1)},tn=[],rn={name:"ServantBase",props:[],components:{},data:function(){return{}},created:function(){},mounted:function(){},methods:{},watch:{},computed:{}},nn=rn,an=Object(v["a"])(nn,en,tn,!1,null,null,null),on=an.exports;h()(an,{VBtn:p["a"],VCard:z["a"],VCardText:K["b"],VCol:me["a"],VContainer:fe["a"],VRow:ve["a"]});var cn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-btn",{attrs:{block:""},on:{click:e.handleCash}},[e._v(e._s(0===e.selectedIds.length?"Zum Kassieren":"Servieren/Zum Kassieren"))])],1),r("v-col",{attrs:{cols:"12"}},[r("v-btn",{attrs:{block:""},on:{click:e.handleSelection}},[e._v(e._s(0===e.selectedIds.length?"Alles ausw채hlen":"Alles abw채hlen"))])],1)],1)],1)],1),r("v-card-text",[r("v-list",{attrs:{"three-line":"",rounded:""}},[r("v-list-item-group",{attrs:{color:"primary",multiple:""},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}},e._l(e.orderedItems,(function(t){return r("v-list-item",{key:"notServed/OI/"+t.id,on:{click:function(r){return e.handleItem(t)}}},[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t.item.name)}}),t.extensions.length>0?r("v-list-item-subtitle",{domProps:{textContent:e._s(t.extensions.map((function(e){return e.name})).join(", "))}}):e._e(),r("v-list-item-subtitle",{domProps:{textContent:e._s(t.table.name+"/"+t.id+", by "+t.waiter)}})],1),r("v-list-item-action",[e._v(" "+e._s(e._f("quantity")(t))+" ")])],1)})),1)],1)],1)],1)},sn=[];function ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dn={name:"ServantServe",props:[],components:{},data:function(){return{selection:[],selectedIds:[]}},created:function(){},mounted:function(){this.fetchOrderedItems()},methods:un({},Object(l["b"])("ordered-items",{fetchOrderedItems:"find",updateOrderedItem:"update"}),{handleItem:function(e){var t=e.id;this.selectedIds.includes(t)?this.selectedIds=this.selectedIds.filter((function(e){return e!==t})):this.selectedIds.push(t)},handleCash:function(){var e=this,t=[];0!==this.selectedIds.length&&this.orderedItems.filter((function(t){var r=t.id;return e.selectedIds.includes(r)})).forEach((function(r){t.push(e.updateOrderedItem([r.id,un({},r,{served:r.quantity}),{}]))})),Promise.all(t).then((function(){e.$router.push({name:"ServantCash",params:{tableId:e.tableId}})}))},handleSelection:function(){var e=this;0===this.selectedIds.length?this.orderedItems.forEach((function(t,r){var n=t.id;e.selection.push(r),e.selectedIds.push(n)})):(this.selection=[],this.selectedIds=[])}}),computed:un({},Object(l["c"])("ordered-items",{findOrderedItems:"find"}),{tableId:function(){return parseInt(this.$route.params.tableId)},orderedItems:function(){return this.findOrderedItems({query:{tableId:this.tableId}}).data.filter((function(e){var t=e.served,r=e.quantity,n=e.finished;return n===r&&t<r}))}}),filters:{quantity:function(e){return e.quantity-e.served}}},mn=dn,fn=Object(v["a"])(mn,cn,sn,!1,null,null,null),vn=fn.exports;h()(fn,{VBtn:p["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:me["a"],VContainer:fe["a"],VList:y["a"],VListItem:g["a"],VListItemAction:J["a"],VListItemContent:j["a"],VListItemGroup:$e["a"],VListItemSubtitle:j["b"],VListItemTitle:j["c"],VRow:ve["a"]});var bn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("v-btn",{attrs:{block:""},on:{click:e.selectAll}},[e._v("Alles Ausw채hlen")])],1),r("v-card-text",[r("v-list",{attrs:{"three-line":"",rounded:""}},e._l(e.orderedItems,(function(t){return r("v-list-item",{key:"notCashed/OI/"+t.id,on:{click:function(r){return e.handleClick(t)}}},[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t.item.name)}}),t.extensions.length>0?r("v-list-item-subtitle",{domProps:{textContent:e._s(t.extensions.map((function(e){return e.name})).join(", "))}}):e._e(),r("v-list-item-subtitle",{domProps:{textContent:e._s(t.table.name+"/"+t.id+", by "+t.waiter)}})],1),r("v-list-item-action",[e._v(" "+e._s(t.selected+"/"+(t.quantity-t.cashed))+" ")])],1)})),1)],1)],1)},hn=[];function pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yn={name:"ServantCash",props:[],components:{},data:function(){return{orderedItems:[]}},created:function(){},mounted:function(){this.fetchOrderedItems()},methods:On({},Object(l["b"])("ordered-items",{fetchOrderedItems:"find"}),{},Object(l["d"])("servant",["addOrderedItem","setSum","clearOrderedItems"]),{handleClick:function(e){e.selected=e.quantity>e.cashed+e.selected?e.selected+1:e.selected,this.addOrderedItem(e),this.setSum()},selectAll:function(){var e=this;this.clearOrderedItems(),this.orderedItems.forEach((function(t){var r=t.quantity,n=t.cashed;t.selected=r-n,e.addOrderedItem(t)})),this.setSum()}}),computed:On({},Object(l["c"])("ordered-items",{findOrderedItems:"find"}),{},Object(l["e"])("servant",["selection"]),{tableId:function(){return parseInt(this.$route.params.tableId)},filteredOrderedItems:function(){return this.findOrderedItems({query:{tableId:this.tableId}}).data.filter((function(e){var t=e.served,r=e.quantity,n=e.finished,a=e.cashed;return n===r&&t===r&&a<r})).map((function(e){return On({},e,{selected:0})}))}}),watch:{filteredOrderedItems:{handler:function(){var e=this;0===this.filteredOrderedItems.length&&this.$router.push({name:"servant"}),this.filteredOrderedItems.forEach((function(t){var r=t.id;if(e.orderedItems.map((function(e){var t=e.id;return t})).includes(r)){var n=e.orderedItems.find((function(e){var t=e.id;return t===r}));n.cashed=t.cashed}else e.orderedItems.push(JSON.parse(JSON.stringify(t)))}));var t=[];this.orderedItems.forEach((function(r){var n=r.id;e.filteredOrderedItems.map((function(e){var t=e.id;return t})).includes(n)||t.push(n)})),this.orderedItems=this.orderedItems.filter((function(e){var r=e.id;return!t.includes(r)}))},immediate:!0}}},gn=yn,jn=Object(v["a"])(gn,bn,hn,!1,null,null,null),xn=jn.exports;h()(jn,{VBtn:p["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VList:y["a"],VListItem:g["a"],VListItemAction:J["a"],VListItemContent:j["a"],VListItemSubtitle:j["b"],VListItemTitle:j["c"]}),n["a"].use(ce["a"]);var wn=[{path:"/",name:"home",component:he},{path:"/waiter",name:"waiter",component:_e},{path:"/waiter/:categoryId",name:"waiterCategory",component:He},{path:"/waiter/:categoryId/:itemId",name:"waiterItem",component:Ne},{path:"/configurator",name:"configurator",component:Nt},{path:"/buffet",name:"buffet",component:nr},{path:"/servant",name:"servant",component:mr},{path:"/servant/:tableId",component:Yr,children:[{path:"",component:on,name:"ServantBase"},{path:"serve",name:"ServantServe",component:vn},{path:"cash",name:"ServantCash",component:xn}]},{path:"/master",name:"master",component:Cr},{path:"/hierarchy",name:"hierarchy",component:Nr},{path:"/scoreboard",name:"scoreboard",component:Hr},{path:"/about",name:"about",component:function(){return r.e("about").then(r.bind(null,"f820"))}}],kn=new ce["a"]({mode:"hash",base:"/",routes:wn}),In=kn,_n=r("2e40"),Cn=function(e){e.name=window.localStorage.getItem("waiterName")},Vn=function(e,t){window.localStorage.setItem("waiterName",t),e.name=t},Pn=function(e,t){e.title=t},Sn=function(e,t){e.tableId=t},Tn={fetchName:Cn,setName:Vn,setTitle:Pn,setTableId:Sn},Dn=function(e){return e.name},En={getName:Dn},$n=r("d326"),Mn=r.n($n),Fn=function(e){return e.order},Nn={order:Fn},qn=function(e){var t=e.dispatch,r=e.commit,n=e.getters;return new Promise((function(e,a){var i=[];n.order.forEach((function(e){i.push(t("ordered-items/create",e,{root:!0}))})),Promise.all(i).then((function(t){r("clearOrder"),e(t)})).catch((function(e){return a(e)}))}))},Bn={finalizeOrder:qn},Ln=function(e,t){e.order.push(t)},An=function(e,t){e.order=e.order.filter((function(e,r){return r!==t}))},Rn=function(e){e.order=[]},zn={addOrderedItem:Ln,removeIndexedOrderedItem:An,clearOrder:Rn},Kn=function(e){var t=0;return e.selection.forEach((function(e){var r=e.item,n=e.extensions,a=e.selected,i=r.price,o=i*a;n.forEach((function(e){var t=e.priceModifier;o*=t})),t+=o})),Math.round(100*t)/100},Hn={sum:Kn},Jn=function(e,t){var r=e.dispatch,n=e.state;return new Promise((function(e,a){var i=[];n.selection.forEach((function(e){e[t]=e[t]+e.selected>e.quantity?e.quantity:e[t]+e.selected,i.push(r("ordered-items/update",[e.id,JSON.parse(JSON.stringify(e)),{}],{root:!0})),e.selected=0})),Promise.all(i).then((function(t){n.selection=[],e(t)})).catch((function(e){a(e)}))}))},Wn={updateSelection:Jn},Un=function(e){var t=0;return e.selection.forEach((function(e){var r=e.item,n=e.extensions,a=e.selected,i=r.price,o=i*a;n.forEach((function(e){var t=e.priceModifier;o*=t})),t+=o})),t=Math.round(100*t)/100,e.sum=t,t},Gn=function(e,t){e.selection.map((function(e){var t=e.id;return t})).includes(t.id)||(e.selection.push(t),e.sum=Un(e))},Zn=function(e){e.selection.forEach((function(e){e.selected=0})),e.selection=[],e.sum=Un(e)},Qn={addOrderedItem:Gn,clearOrderedItems:Zn,setSum:Un};n["a"].use(l["a"]),n["a"].use(_n["b"]);var Xn=r("d76a"),Yn=Xn.keys().map((function(e){return Xn(e).default})),ea={namespaced:!0,state:{name:"",title:"",tableId:0},mutations:Tn,getters:En,actions:Mn.a},ta={namespaced:!0,state:{order:[]},mutations:zn,getters:Nn,actions:Bn},ra={namespaced:!0,state:{selection:[],sum:0},mutations:Qn,getters:Hn,actions:Wn},na=new l["a"].Store({state:{},mutations:{},actions:{},modules:{base:ea,waiter:ta,servant:ra},plugins:Object(Lt["a"])(Yn)}),aa=r("f309"),ia=r("0fe0"),oa=r.n(ia),ca=r("c3f0");n["a"].use(aa["a"],{directives:{Touch:ca["a"]}});var sa=new aa["a"]({lang:{locales:{de:oa.a},current:"de"},icons:{iconfont:"mdi"}});r("d5e8"),r("d1e78");n["a"].config.productionTip=!1,new n["a"]({router:In,store:na,vuetify:sa,render:function(e){return e(oe)}}).$mount("#app")},a77e:function(e,t,r){"use strict";r.r(t);var n=r("d4ec"),a=r("bee2"),i=r("99de"),o=r("7e84"),c=r("262e"),s=r("ade3"),l=r("2e40"),u=function(e){function t(e,r){return Object(n["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).call(this,e,r))}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"instanceDefaults",value:function(){return{name:"New category"}}}]),t}(l["a"]);Object(s["a"])(u,"modelName","Categories");var d="/backend/categories",m=Object(l["d"])({Model:u,service:l["c"].service(d),servicePath:d});l["c"].service(d).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}}),t["default"]=m},d326:function(e,t){},d4b6:function(e,t,r){"use strict";r.r(t);var n=r("d4ec"),a=r("bee2"),i=r("99de"),o=r("7e84"),c=r("262e"),s=r("ade3"),l=r("2e40"),u=function(e){function t(e,r){return Object(n["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).call(this,e,r))}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"instanceDefaults",value:function(){return{quantity:0,waiter:"",comment:"",extensions:[],table:{},item:{}}}}]),t}(l["a"]);Object(s["a"])(u,"modelName","OrderedItems");var d="/backend/ordered-items",m=Object(l["d"])({Model:u,service:l["c"].service(d),servicePath:d});l["c"].service(d).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}}),t["default"]=m},d76a:function(e,t,r){var n={"./categories.js":"a77e","./extensions.js":"ff9a","./items.js":"1dcb","./itemsCanHaveExtensions.js":"02f3","./orderedItems.js":"d4b6","./tables.js":"1c28","./types.js":"1ecb"};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="d76a"},ff9a:function(e,t,r){"use strict";r.r(t);var n=r("d4ec"),a=r("bee2"),i=r("99de"),o=r("7e84"),c=r("262e"),s=r("ade3"),l=r("2e40"),u=function(e){function t(e,r){return Object(n["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).call(this,e,r))}return Object(c["a"])(t,e),Object(a["a"])(t,null,[{key:"instanceDefaults",value:function(){return{name:"",priceModifier:0}}}]),t}(l["a"]);Object(s["a"])(u,"modelName","Extensions");var d="/backend/extensions",m=Object(l["d"])({Model:u,service:l["c"].service(d),servicePath:d});l["c"].service(d).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}}),t["default"]=m}});
//# sourceMappingURL=app.47e58722.js.map